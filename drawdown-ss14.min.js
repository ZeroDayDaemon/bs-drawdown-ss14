const bootstrapClasses={blockquote:"border-start border-3 ps-4 py-2 mt-3",h1:"pb-2 border-bottom border-dark border-opacity-25",pre:"bg-light py-1 px-3 fs-6",table:"table"};export default function(e,r={},t=""!=getComputedStyle(document.documentElement).getPropertyValue("--bs-primary")){const a=/</g,l=/>/g,p=/\r(?=\n)/g,n=/\t|\uf8ff/g,c=/\\([\\\|`*_{}\[\]()#+\-~])/g,s=/^([*\-=_] *){3,}$/gm,g=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,o=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,$=/<\/(ol|ul)>\n\n<\1>/g,b=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,m=/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,i=/\[([^\]]+?)\](?![:\(])/g,d=/((!?)\[([^\]]+?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,u=/(?<!`)((https?:\/\/\S+)|(www\.\S+\.\S+))(?!`)\b/g,h=/\n(( *\|.*?\| *\n)+)/g,f=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,y=/.*\n/g,w=/\||(.*?[^\\])\|/g,S=/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,_=/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,j=/  $/gm,x=/-\d+\uf8ff/g,k=e=>((r[e]||"")+" "+(t&&bootstrapClasses[e]||"")).trim()||void 0,z=(e,r,t={})=>`<${e} ${Object.entries(Object.assign(t,{class:k(e)})).map(([e,r])=>r?`${e}="${r}"`:"").join(" ")}>${r}</${e}>`,A=e=>e.replace(g,(e,r)=>z("blockquote",A(E(r.replace(/^ *&gt; */gm,""))))),C=e=>e.replace(o,(e,r,t,a,l,p)=>"\n"+z(t?"ol":"ul",z("li",E(p.split(new RegExp("\n ?"+r+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(C).join("</li><li>"))),t?{start:a?t:parseInt(t,36)-9,style:a?"":`list-style-type: ${l?"lower-alpha":"upper-alpha"}`}:{})),E=e=>e.replace(b,(e,r,t,a,l,p,n,c,s,g)=>r+z(a?s?"strong":"em":l?s?"s":"sub":p?"sup":n?"small":c?"big":"code",E(g))),Z=e=>e.replace(c,"$1");let q=[],I=0;return e=`\n${e}\n`.replace(a,"&lt;").replace(l,"&gt;").replace(p,"").replace(n,"  "),e=(e=A(e)).replace(s,"<hr/>"),(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=C(e).replace($,"")).replace(m,(e,r,t,a,l)=>(q[--I]=z("pre",z("code",a||l.replace(/^    /gm,""))),I+""))).replace(i,(r,t)=>{const a=e.match(new RegExp("^\\["+t+"\\]:\\s(\\S+)$","mi"));return a?`${r}(${a[1]})`:r})).replace(/^\[[^\]]+\]:\s(\S+)$/gm,"")).replace(d,(e,r,t,a,l,p,n)=>(q[--I]=l?t?`<img src="${l}" alt="${a}"/>`:z("a",Z(E(a)),{href:l}):n,I+""))).replace(u,(e,r,t,a)=>(q[--I]=z("a",Z(E(t||a)),{href:t||`https://${a}`}),I+""))).replace(h,(e,r)=>{const t=r.match(f)[1];return"\n"+z("table",r.replace(y,(e,r)=>e==t?"":z("tr",e.replace(w,(e,a,l)=>l?z(t&&!r?"th":"td",Z(E(a||""))):""))))})).replace(S,(e,r,t,a)=>r+z("h"+t.length,Z(E(a))))).replace(_,(e,r)=>z("p",Z(E(r))))).replace(j,e=>"<br/>")).replace(x,e=>q[parseInt(e)])).trim()}